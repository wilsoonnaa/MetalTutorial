title: 1. GLFW Setup
comments: true

# Setting up GLFW for Window Creation

To use the graphics rendering aspect of Metal, we're going to need a window to render our application to. This is where a cross platform windowing library called `GLFW` comes in. Typically, it's used in conjunction with the OpenGL graphics API, but we can disable this functionality to be able to use it with Metal. In short, it's going to make window creation, as well as keyboard/mouse/controller input handling really easy for us. MacOS has it's own windowing library that's part of the Cocoa framework, but I'm not familiar with how to use it, and we'll able to setup GLFW and get it to expose the part of Cocoa windowing that we *will* need in about 5 lines of code.

 There's a couple of different ways to get GLFW. One way is to download the [macOS pre-compiled binaries](https://www.glfw.org/download.html) on the glfw website. If you would prefer to do it this way, make sure to include the glfw `include` directory in your project, and then like I showed with the `metal-cpp` library, add this `include` directory to the header search paths under the `Build Settings` for your target (i.e. Metal-Guide, or whatever you named it). Then, under `Build Phases`, add the corresponding static or dynamic library in the `Link Binary With Libraries` section.

Alternatively, you can get it via the `brew` package manager, which is what I've done. If you don't have `brew`, you can get it here: [brew.sh](https://brew.sh/). It's a very useful tool to have for software development on Mac. It's essentially like `apt-get` on Debian Linux distros, if you're familiar with that.

Once you have brew, you can install glfw with this terminal command:
````
brew install glfw
````
Now, we need to add brew's header `include` directory to our Xcode header search path, so Xcode can find GLFW's header files. 

If you're not sure what kind of Mac you have, click the ï£¿ logo in the top left of your screen, hit `About This Mac` and check the Chip type.

If you're on an M1 Mac, like I am, you can add this directory under the `Build Settings` section for your Xcode target:
````
/opt/homebrew/Cellar/glfw/...version_goes_here.../include
````
![image](/images/glfw_include.png)

Alternatively, if you have an Intel Mac, brew will install packages to the `/usr/local` directory. Correspondingly, you can use this directory instead:
````
/usr/local/Cellar/glfw/...version_goes_here.../include
````

Next, we're going to link with the glfw dynamic library. Under Build Phases, and under `Link Binary With Libraries`, click the `+` icon, `Add Other`, then `Add Files...`. It will open up a `Finder Window`:
![image](/images/finder.png)

When you have the window open, hold these 3 keys at the same time: ++command+shift+g++. If on an M1 Mac:
````
/opt/homebrew/Cellar/glfw/...version_goes_here.../lib
````
And if on an Intel Mac:
````
/usr/local/Cellar/glfw/...version_goes_here.../lib
````
Select `libglfw.3.3.dylib`:
![image](/images/libglfw.png)

And you should be all set to use GLFW!